<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="view_order_form_inherit_product_access_by_sales_team" model="ir.ui.view">
    <field name="name">sale.order.form.inherit.product.access.by.sales.team</field>
    <field name="model">sale.order</field>
    <field name="inherit_id" ref="sale.view_order_form"/>
    <field name="arch" type="xml">
        <xpath expr="//group[@name='partner_details']" position="inside">
          <field name="filter_product_tmpl_ids" invisible="1"/>
            <field name="filter_product_ids" invisible="1"/>
        </xpath>
        <xpath expr="//group[@name='partner_details']/field[@name='sale_order_template_id']" position="attributes">
          <attribute name="domain">[('team_id', '=', team_id)]</attribute>
        </xpath>
        <xpath expr="//page[@name='order_lines']/field[@name='order_line']/tree/field[@name='product_template_id']" position="attributes">
            <attribute name="domain">[('id', 'in', parent.filter_product_tmpl_ids)]</attribute>
        </xpath>
        <xpath expr="//page[@name='order_lines']/field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
            <attribute name="domain">[('id', 'in', parent.filter_product_ids)]</attribute>
        </xpath>
        <xpath expr="//page[@name='optional_products']/field[@name='sale_order_option_ids']/tree/field[@name='product_id']" position="attributes">
            <attribute name="domain">[('id', 'in', parent.filter_product_ids)]</attribute>
        </xpath>
    </field>
  </record>
</odoo>